{% extends '_base.html' %}
{% block title %}SwitchSetup{% endblock %}
{% block content %}


{% if result %}
<div class="toast-container position-static">
    <div class="toast fade show" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-header">
        <svg class="bd-placeholder-img rounded me-2" width="20" height="20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false"><rect width="100%" height="100%" fill="#007aff"></rect></svg>
        <strong class="me-auto">System Alert</strong>
        <small class="text-body-secondary"></small>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close" action></button>
      </div>
      <div class="toast-body">
        {{result}}
      </div>
    </div>
</div>
{% endif %}

{{ form.errors }}




<form method="POST" enctype="multipart/form-data">
{% csrf_token %}

{% if type_page != 'delete' %}
    <div class="form-group" style="margin-top: 15px;">
        <label for="exampleFormControlInput1">Title</label>
        {% if type_page == 'create' %}
        <input class="form-control" type="text" name="title" placeholder="Title">

        {% else %}
        <input class="form-control" type="text" name="title" placeholder="Title" value="{{ form.title.value }}">
        {% endif %}
    </div>

    <div class="form-group" style="margin-top: 15px;">
        <label for="exampleFormControlInput1">Description</label>
        {% if type_page == 'create' %}
        <input class="form-control" type="text" name="about" placeholder="Description">
        {% else %}
        <input class="form-control" type="text" name="about" placeholder="Description" value="{{ form.about.value }}">
        {% endif %}
    </div>

    {% if page == '1' %}
    <div class="form-group" style="margin-top: 15px;">
        <label class="form-label" for="customFile">PÄºaybook file: </label>
        {% if type_page == 'create' %}
        <input class="form-control form-control-lg" id="formFileLg" type="file" name="playbook_file" accept=".yml"/>
        {% else %}
        {{ form.playbook_file }}
        {% endif %}
        <small class="form-text text-muted">
            The file extension must be in YAML
        </small>
    </div>
    {% else %}
    <div class="form-group" style="margin-top: 15px;">
        <label class="form-label" for="customFile">Host file: </label>
        {% if type_page == 'create' %}
        <input class="form-control form-control-lg" id="formFileLg" type="file" name="host_file" accept=".yml"/>
        {% else %}
        {{ form.host_file }}
        {% endif %}
        <small class="form-text text-muted">
            The file extension must be in YAML
        </small>
    </div>
    {% endif %}

<button class="btn btn-primary" type="submit" style="margin-top: 25px;">Confirm</button>
{% else %}
<h3 style="color: red;">Are you sure you want to delete "{{ object }}"?</h3>
<button type="submit" class="btn btn-danger px-5 mb-5 w-100">Confirm</button>
{% endif %}

</form>






<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    var navLinks = document.getElementsByClassName("nav_link");
    navLinks[1].classList.add("active");
</script>
{% endblock content %}
